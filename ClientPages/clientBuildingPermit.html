<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHSD MIS</title>
    <link rel="stylesheet" href="/Stylesheets/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
   
    <style>
        /* CSS for the content container */
        .content {
            flex: 1; /* Take remaining space */
            overflow: hidden; /* Hide overflow content */
            display: flex; /* Use flexbox */
            flex-direction: column; /* Column layout */
        }

        .content-container {
            overflow-y: auto; /* Enable vertical scrolling */
            padding: 20px; /* Add some padding */
        }

        .wide-modal {
            max-width: 80%;
        }
        .wider-modal{
            max-width:90%;
        }

        .form-control {
            margin-bottom: 1rem; /* Add margin between form controls */
        }

        .form-check {
            margin-bottom: 0.5rem; /* Add margin between checkboxes */
        }

        .row.g-3 .col-md-6,
        .row.g-3 .col-md-4,
        .row.g-3 .col-md-12 {
            margin-bottom: 1rem; /* Add margin to columns */
        }

        .d-flex .me-2 {
            margin-right: 1rem; /* Add margin to the right of the input */
        }
    </style>

<style>
    .btn-upload {
    padding: 8px 16px;
    background-color: #4CAF50 !important;
    color: white !important;
    border: none;
    cursor: pointer !important;
}
.btn-upload:hover {
    background-color: #45a049;
}
.file-item {
    display: flex;
    align-items: center;
}
.file-name {
    margin-right: 10px;
}
.btn-delete {
    color: red;
    cursor: pointer;
}
    .content {
        flex: 1; 
        overflow: hidden; 
        display: flex;
        flex-direction: column; 
    }

    .content-container {
        overflow-y: auto; 
        padding: 20px; 
    }

    .wide-modal {
        max-width: 80%;
    }

    .form-control {
        margin-bottom: 1rem; 
    }

    .form-check {
        margin-bottom: 0.5rem; 
    }

    .row.g-3 .col-md-6,
    .row.g-3 .col-md-4,
    .row.g-3 .col-md-12 {
        margin-bottom: 1rem; 
    }

    .d-flex .me-2 {
        margin-right: 1rem; 
    }
    .upload-btn-wrapper {
        position: relative;
        overflow: hidden;
        display: inline-block;
    }

    .btn-upload {
        border: 2px solid #01b813;
        color: white;
        background-color: #007bff;
        padding: 5px 10px;
        border-radius: 5px;
        font-size: 14px;
        font-weight: bold;
    }

    .upload-btn-wrapper input[type=file] {
        font-size: 100px;
        position: absolute;
        left: 0;
        top: 0;
        opacity: 0;
    }

  
</style>
<style>
    .main-container {
      display: none; /* Hide content initially */
    }
  </style>
  
 
  
</head>
<body>
   
    
    <div class="main-container d-flex">

        <!--Sidebar-->
        <div class="sideNav" id="side_nav">
            <div class="container">
                <div class="header-box text-center px-2 pt-3 pb-4 ">
                    <button class="btn d-md-none d-block close-btn px-1 py-0 text-black"><i class="fa-solid fa-bars-staggered"></i></button>
                    <div class="avatar-placeholder">
                        <img id="client-avatar" src="" alt="loading..." width="100" height="100">

                    </div>
                    <div class="avatar-text">
                        <!-- Client ID and Name -->
                        <div id="user-name">loading...</div>
                    </div>
                    
                </div>
            </div>
            <ul class="sideBarList list-unstyled px-2">
                <li class="sideNav"><a href="clientDashboard.html" class="text-decoration-none"><i class="fa-solid fa-house"></i> Dashboard</a></li>
                <li class="sideNav"><a href="clientRequirements.html" class="text-decoration-none"><i class="fa-solid fa-list"></i> Requirements List</a></li>
                
                <li class="sideNav dropdown open">
                    <a href="#" class="text-decoration-none"><i class="fa-solid fa-newspaper"></i> Application <i class="fas fa-caret-down"></i></a>
                    <ul class="submenu list-unstyled">
                        <li class="text-center mt-2 active"><a href="clientBuildingPermit.html" class="text-decoration-none">Building Permit</a></li>
                        <li class="text-center mt-2"><a href="clientOccupancyApplication.html" class="text-decoration-none">Occupancy</a></li>
                        <li class="text-center mt-2"><a href="clientElectricalApplication.html" class="text-decoration-none">Electrical Inspection</a></li>
                        <li class="text-center mt-2"><a href="clientHousingApplication.html" class="text-decoration-none">Housing</a></li>
                    </ul>
                </li>
                <li class="sideNav" id="user-logout-btn"><a href="#" class="text-decoration-none"><i class="fa-solid fa-right-from-bracket"></i> Log out</a></li>
            </ul>
        </div>
       

        <div class="content">
           

            <!--Navigation Bar-->
<nav class="navigationBar navbar navbar-expand-lg bg-light">
    <div class="container-fluid">
        <!-- Mobile View -->
        <div class="d-flex justify-content-between d-md-none d-block">
            <a class="navbar-brand d-flex align-items-center" href="#">
                <img src="/resources/pictures/chsd.png" alt="CHSD" width="40" height="40" class="me-2">
                <h5 class="mb-0 fs-5">CHSD</h5>
            </a>
            <button class="btn px-1 py-0 open-btn">
                <i class="fa-solid fa-bars-staggered"></i>
            </button>
        </div>

        <!-- Desktop View -->
        <div class="collapse navbar-collapse d-none d-md-flex" id="navbarSupportedContent">
            <a class="navbar-brand d-flex align-items-center" href="#">
                <img src="/resources/pictures/chsd.png" alt="CHSD" width="75" height="75" class="me-2">
                <h5 class="mb-0 fs-5 fs-lg-4">City Housing and Settlements Department</h5>
            </a>
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <!-- Additional nav items go here -->
            </ul>
        </div>
    </div>
</nav>

            <div class="contentContainer">
                <div class="card text-center">
                    <div class="card-body">
                      <h5 class="card-title">Start Your Application</h5>
                      <p class="card-text">Click the button below to apply for a building permit.</p>
                      <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#buildingPermitModal">Apply</button>
                    </div>
                  </div>
                  
            </div>
        </div>
    </div>

   <!-- Application Modal -->
<div class="modal fade" id="buildingPermitModal" tabindex="-1" aria-labelledby="BuildingPermitModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable wide-modal">
        <div class="modal-content buldingPermitApplication">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="BuildingPermitModalLabel">Building Permit Application</h1>
             
            </div>
            <div class="modal-body">
                <!-- Application Modal Content -->
                <div class="container">
                   <!-- Step Progress Bar -->
                <div class="step-progress mb-4">
                    <div class="step completed">
                        <div class="circle"></div>
                        <div class="label">Form</div>
                    </div>
                    <div class="step">
                        <div class="circle"></div>
                        <div class="label">Upload Requirements</div>
                    </div>
                    <div class="step">
                        <div class="circle"></div>
                        <div class="label">Appointment</div>
                    </div>
                </div>
                    <form>
                        <p>Note: Fill up all the fields to proceed to the next step.</p>
                        <p><i>Required fields are marked with *</i></p>
                        <div class="mb-3">
                            <div class="d-flex col-md-6">
                                <input type="text" class="form-control me-2" id="hsdFormNo" placeholder="HSD Form No.1" disabled>
                                
                                <input type="email" class="form-control" id="ownerEmail" placeholder="" disabled>
                                <button type="button" class="btn btn-secondary" onclick="window.print();"><i class="fa-solid fa-print"></i> Print</button>
                                
                            </div>
                        </div>
                        <div class="row g-3">
                            <div class="col-md-6">
                                <input type="text" class="form-control" id="buildingPermitNo" placeholder="Building Permit No." disabled>
                            </div>
                            <div class="col-md-6">
                                <div class="input-group">
                                    <span class="input-group-text" id="basic-addon3">Issued on:</span>
                                    <input type="date" class="form-control" id="basic-url" aria-describedby="basic-addon3 basic-addon4">
                                </div>
                            </div>
                        </div>
                      <div class="row g-3">
    <label for="ownerName">Owner/Applicant Name:</label>
    <div class="col-md-3">
        <input type="text" class="form-control" id="ownerLastName" placeholder="Last Name" required>
    </div>
    <div class="col-md-3">
        <input type="text" class="form-control" id="ownerFirstName" placeholder="First Name*" required>
    </div>
    <div class="col-md-3">
        <input type="text" class="form-control" id="ownerMiddleName" placeholder="Middle Name*" required>
    </div>
    <div class="col-md-3">
        <input type="text" class="form-control" id="ownerMaidenName" placeholder="Maiden Name">
    </div>
</div>


<div class="mb-3">
    <label for="phoneNumber" class="form-label">Phone Number*</label>
    <input type="text" class="form-control" id="phoneNumber" value="+63" required>
</div>



                        <div class="row g-3">
                            <div class="col-md-6">
                                <input type="text" class="form-control" id="addressTelNo" placeholder="Address*" required>
                            </div>


                            <div class="col-md-6">
                                <input type="text" class="form-control" id="projectLocation" placeholder="Project Location*" required>
                            </div>
                        </div>

                        <div class="row g-3">
                            <div class="col-md-6">
                                <input type="text" class="form-control" id="TelNo" placeholder="Telephone No.">
                            </div>
                        </div>
                        <div class="mb-3">
                            <div class="row g-3">
                                <label for="form-check" class="form-label">Scope of Work*</label>
                                <div class="col-md-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="scopeOfWork" value="option1" id="option1" required>
                                        <label class="form-check-label" for="option1">New Construction</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="scopeOfWork" value="option2" id="option2" required>
                                        <label class="form-check-label" for="option2">Addition</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="scopeOfWork" value="option3" id="option3" required>
                                        <label class="form-check-label" for="option3">Repair Renovation</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="scopeOfWork" value="option4" id="option4" required onclick="toggleOtherScopeInput()">
                                        <label class="form-check-label" for="option4">Others</label>
                                        <input type="text" class="form-control mt-2" id="otherScopeInput" placeholder="Specify" disabled>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <div class="row g-3">
                                <label for="form-check" class="form-label">Project Justification*</label>
                                <div class="col-md-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="projectJustification" value="justification1" id="justification1" required>
                                        <label class="form-check-label" for="justification1">Single Attached/Semi-Attached/Duplex</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="projectJustification" value="justification2" id="justification2" required>
                                        <label class="form-check-label" for="justification2">Single/Detached</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="projectJustification" value="justification3" id="justification3" required>
                                        <label class="form-check-label" for="justification3">Row House/Multi-family Dwelling</label>
                                    </div>
                                </div>
                            </div>
                        
                        
                            <div class="row mb-3">
                                <div class="col">
                                    <input type="text" class="form-control" placeholder="Block number*" required>
                                </div>
                                <div class="col">
                                    <input type="text" class="form-control" placeholder="Lot number*" required>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <input type="text" class="form-control" placeholder="No. of Units*" required>
                                </div>
                                <div class="col">
                                    <input type="text" class="form-control" placeholder="Floor Area Per Unit*" required>
                                </div>
                                <div class="col">
                                    <input type="text" class="form-control" placeholder="Total Floor Area*" required>
                                </div>
                                <div class="col">
                                    <input type="text" class="form-control" placeholder="Total Estimated Cost*" required>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
               
                <button type="button" id="nextStepButton" class="btn btn-primary">Next</button>
               
            </div>
        </div>
    </div>
</div>
              </div>
                <!-- End of Bootstrap Table -->
            </div>
        </div>
    </div>

    

  
  <!--Building Permit Upload Modal -->
  <div class="modal fade" id="buildingPermitUpload" tabindex="-1" aria-labelledby="buildingPermitUploadLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable wide-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Building Permit Application</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <!-- Step Progress Bar -->
          <div class="step-progress mb-4">
            <div class="step completed">
                <div class="circle"></div>
                <div class="label">Form</div>
            </div>
            <div class="step completed">
                <div class="circle"></div>
                <div class="label">Upload Requirements</div>
            </div>
            <div class="step">
                <div class="circle"></div>
                <div class="label">Appointment</div>
            </div>
        </div>
        <!--Content-->
        <table class="table">
            <thead>
                <tr>
                    <th>Requirements</th>
                    <th>File</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Building Plan</td>
                    <td class="file-column"></td>
                    <td>
                        <div class="upload-btn-wrapper">
                            <div class="drag-drop-area" ondrop="handleDrop(event)" ondragover="handleDragOver(event)">
                                <p>Drag & drop file here</p>
                              </div>
                            <button class="btn btn-upload">Upload</button>
                            <input type="file" class="file-input" onchange="uploadFile(this)">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Proof of Ownership</td>
                    <td class="file-column"></td>
                    <td>
                        <div class="upload-btn-wrapper">
                            <div class="drag-drop-area" ondrop="handleDrop(event)" ondragover="handleDragOver(event)">
                                <p>Drag & drop file here</p>
                              </div>
                            <button class="btn btn-upload">Upload</button>
                            <input type="file" class="file-input" onchange="uploadFile(this)">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Photocopy of tax declaration & current tax receipt</td>
                    <td class="file-column"></td>
                    <td>
                        <div class="upload-btn-wrapper">
                            <div class="drag-drop-area" ondrop="handleDrop(event)" ondragover="handleDragOver(event)">
                                <p>Drag & drop file here</p>
                              </div>
                            <button class="btn btn-upload">Upload</button>
                            <input type="file" class="file-input" onchange="uploadFile(this)">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Brgy. Clearance of Building Permit</td>
                    <td class="file-column"></td>
                    <td>
                        <div class="upload-btn-wrapper">
                            <div class="drag-drop-area" ondrop="handleDrop(event)" ondragover="handleDragOver(event)">
                                <p>Drag & drop file here</p>
                              </div>
                            <button class="btn btn-upload">Upload</button>
                            <input type="file" class="file-input" onchange="uploadFile(this)">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Bill of Materials & Specification</td>
                    <td class="file-column"></td>
                    <td>
                        <div class="upload-btn-wrapper">
                            <div class="drag-drop-area" ondrop="handleDrop(event)" ondragover="handleDragOver(event)">
                                <p>Drag & drop file here</p>
                              </div>
                            <button class="btn btn-upload">Upload</button>
                            <input type="file" class="file-input" onchange="uploadFile(this)">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Photocopy of PRC IC/PTR of all signing engineers</td>
                    <td class="file-column"></td>
                    <td>
                        <div class="upload-btn-wrapper">
                            <div class="drag-drop-area" ondrop="handleDrop(event)" ondragover="handleDragOver(event)">
                                <p>Drag & drop file here</p>
                              </div>
                            <button class="btn btn-upload">Upload</button>
                            <input type="file" class="file-input" onchange="uploadFile(this)">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Certification of Exemption Location Clearance from CPDO</td>
                    <td class="file-column"></td>
                    <td>
                        <div class="upload-btn-wrapper">
                            <div class="drag-drop-area" ondrop="handleDrop(event)" ondragover="handleDragOver(event)">
                                <p>Drag & drop file here</p>
                              </div>
                            <button class="btn btn-upload">Upload</button>
                            <input type="file" class="file-input" onchange="uploadFile(this)">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Structural Analysis(2-Storey and up)</td>
                    <td class="file-column"></td>
                    <td>
                        <div class="upload-btn-wrapper">
                            <div class="drag-drop-area" ondrop="handleDrop(event)" ondragover="handleDragOver(event)">
                                <p>Drag & drop file here</p>
                              </div>
                            <button class="btn btn-upload">Upload</button>
                            <input type="file" class="file-input" onchange="uploadFile(this)">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Fire Clearance</td>
                    <td class="file-column"></td>
                    <td>
                        <div class="upload-btn-wrapper">
                            <div class="drag-drop-area" ondrop="handleDrop(event)" ondragover="handleDragOver(event)">
                                <p>Drag & drop file here</p>
                              </div>
                            <button class="btn btn-upload">Upload</button>
                            <input type="file" class="file-input" onchange="uploadFile(this)">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Boring Test</td>
                    <td class="file-column"></td>
                    <td>
                        <div class="upload-btn-wrapper">
                            <div class="drag-drop-area" ondrop="handleDrop(event)" ondragover="handleDragOver(event)">
                                <p>Drag & drop file here</p>
                              </div>
                            <button class="btn btn-upload">Upload</button>
                            <input type="file" class="file-input" onchange="uploadFile(this)">
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>Occupancy Permit(Home improvement/Extension)</td>
                    <td class="file-column"></td>
                    <td>
                        <div class="upload-btn-wrapper">
                            <div class="drag-drop-area" ondrop="handleDrop(event)" ondragover="handleDragOver(event)">
                                <p>Drag & drop file here</p>
                              </div>
                            <button class="btn btn-upload">Upload</button>
                            <input type="file" class="file-input" onchange="uploadFile(this)">
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
        </div>
        <div class="modal-footer">
        

                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="previousStepButton">Previous</button>
                <button id="nextStepButton2" class="btn btn-primary" type="button">Next</button>
        </div>
      </div>
    </div>
  </div>


 <!-- Appointment Modal -->
<div class="modal fade" id="appointmentModal" tabindex="-1" aria-labelledby="appointmentModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable wide-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title fs-5" id="exampleModalLabel">Appointment Schedule</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Step Progress Bar -->
                <div class="step-progress mb-4">
                    <div class="step completed">
                        <div class="circle"></div>
                        <div class="label">Form</div>
                    </div>
                    <div class="step completed">
                        <div class="circle"></div>
                        <div class="label">Upload Requirements</div>
                    </div>
                    <div class="step completed">
                        <div class="circle"></div>
                        <div class="label">Appointment</div>
                    </div>
                </div>
                <!-- Content -->
                <div class="container">
                    <h5 class="text-center mt-5 mb-4">Appointment Schedule</h5>
                    <div class="row">
                        <div class="col-md-3"></div> <!-- Empty column for spacing -->
                        <!--<div class="col-md-6">
                           <img class="img-fluid" src="/resources/pictures/calendar.png">

                            
                        </div>

                    -->
                     

                        <div class="row justify-content-center">
                          <div class="col-md-6">
                            <label for="appointmentDate">
                                Date
                            </label>
                            <input type="date" class="form-control" id="appointmentDate">
                          </div>
                           </div>
                        <div class="col-md-3"></div> <!-- Empty column for spacing -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="previousStepButton2">Previous</button>
                <button type="button" class="btn btn-primary" id="submitProfile">Finish</button>
            </div>
        </div>
    </div>
</div>

<!-- Appointment Modal 2 -->
<div class="modal fade" id="appointmentModal2" tabindex="-1" role="dialog" aria-labelledby="appointmentModalLabel2" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="appointmentModalLabel">Book Appointment</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p id="selectedDateTime"></p>
                <button type="button" class="btn btn-primary" id="bookAppointmentBtn">Book Appointment</button>
            </div>
        </div>
    </div>
</div>

    <!-- Remarks Modal -->
    <div class="modal fade" id="viewRemarks" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Remarks</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Hello, please wait for the approval of your application, thank you!</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Ok</button>
                </div>
            </div>
        </div>
    </div>


<!-- Application Applied Modal -->
<div class="modal fade" id="applicationAppliedModal" tabindex="-1" aria-labelledby="ApplicationAppliedModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="ApplicationAppliedModalLabel"><i class="fa-solid fa-check-circle"></i> Success</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body text-center">
                <h2>Application Submitted</h2>
                <i class="fa-solid fa-check-circle fa-3x text-success"></i>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Privacy Policy Modal -->
<div class="modal fade" id="privacyPolicyModal" tabindex="-1" aria-labelledby="privacyPolicyModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered wide-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="privacyPolicyModalLabel">Privacy Policy and Terms of Service</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" id="privacyPolicyContent" style="max-height: 400px; overflow-y: auto;">
          <h5>Privacy Policy</h5>
          <p>We are committed to protecting your privacy. This privacy policy explains how we collect, use, and share your personal information when you apply for building permits through our system. By submitting your application, you consent to our privacy policy and the collection, use, and sharing of your information as described here.</p>

          <ul>
            <li><b>Information Collection:</b> We collect personal data such as name, address, phone number, email, and project details for the sole purpose of processing your building permit application.</li>
            <li><b>Use of Data:</b> The collected data is used to process your permit, communicate with you, and keep you updated on your application's status.</li>
            <li><b>Data Sharing:</b> Your data will not be shared with third parties except where required by law or necessary for completing the application process.</li>
            <li><b>Data Retention:</b> Your personal data will be retained only for as long as necessary to fulfill the purpose of the application process or as required by legal obligations.</li>
          </ul>

          <h5>Terms and Conditions</h5>
          <p>By using this service, you agree to the following terms and conditions:</p>
          <ul>
            <li>You will provide accurate and truthful information in your application.</li>
            <li>You understand that the processing of your permit may take several days depending on the complexity of the application.</li>
            <li>You are responsible for any fees or charges associated with your application.</li>
            <li>Any attempt to provide fraudulent information may result in legal consequences.</li>
          </ul>
        </div>
        <div class="modal-footer">
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="termsCheckbox">
            <label class="form-check-label" for="termsCheckbox">
              I have read and agree to the Privacy Policy and Terms and Conditions
            </label>
          </div>
          <a type="button" class="btn btn-secondary text-white" href="clientApplication.html">Back</a>
          <button type="button" class="btn btn-primary" id="acceptPolicyButton" disabled>Proceed</button>
        </div>
      </div>
    </div>
  </div>
<!--Download PDF and Excel Libraries-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>
<script>
    // Disable the nextStepButton until all required fields are occupied
    document.addEventListener("DOMContentLoaded", function () {
    const nextStepButton = document.getElementById("nextStepButton");

    // Function to check if all required fields are filled
    function checkRequiredFields() {
        const requiredFields = document.querySelectorAll("#buildingPermitModal [required]");
        let allFilled = true;

        requiredFields.forEach((field) => {
            if (!field.value.trim()) {
                allFilled = false;
            }
        });

        nextStepButton.disabled = !allFilled; // Disable button if not all fields are filled
    }

    // Attach event listeners to all required fields
    const requiredFields = document.querySelectorAll("#buildingPermitModal [required]");
    requiredFields.forEach((field) => {
        field.addEventListener("input", checkRequiredFields);
    });

    // Initially disable the button
    nextStepButton.disabled = true;
});

</script>
<script>
// Disable the "Proceed" button until the user scrolls to the bottom and checks the checkbox
const modalContent = document.getElementById('privacyPolicyContent');
const acceptPolicyButton = document.getElementById('acceptPolicyButton');
const termsCheckbox = document.getElementById('termsCheckbox');

function updateProceedButton() {
  // Enable the button if the user has scrolled to the bottom and checked the box
  const isScrolledToBottom = modalContent.scrollHeight - modalContent.scrollTop === modalContent.clientHeight;
  const isCheckboxChecked = termsCheckbox.checked;
  acceptPolicyButton.disabled = !(isScrolledToBottom && isCheckboxChecked);
}

// Add scroll event listener to check if the user has scrolled to the bottom
modalContent.addEventListener('scroll', updateProceedButton);

// Add change event listener for checkbox
termsCheckbox.addEventListener('change', updateProceedButton);
</script>




    <!-- Firebase and custom scripts -->
    <script type="module" src="/Database/firebase.js"></script>

  
   
   
    

    <!-- Bootstrap and other scripts -->
  
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
    <script src="/ClientPages/navBarScript.js"></script>

    <script>
        document.querySelector('.open-btn').addEventListener('click', function() {
            document.getElementById('side_nav').classList.add('active');
        });
    
        document.querySelector('.close-btn').addEventListener('click', function() {
            document.getElementById('side_nav').classList.remove('active');
        });
    </script>

<script>
    document.getElementById('phoneNumber').addEventListener('input', function(e) {
        let value = e.target.value;

        // Ensure that the phone number starts with +63
        if (!value.startsWith('+63')) {
            e.target.value = '+63';
        }
    });
</script>


<script>
    document.addEventListener("DOMContentLoaded", function() {
    var sideNav = document.getElementById('side_nav');
    var openBtn = document.querySelector('.open-btn');
    var closeBtn = document.querySelector('.close-btn');
    var dropdownItems = document.querySelectorAll('.sideNav.dropdown');

    // Toggle the sidebar for mobile view
    openBtn.addEventListener('click', function() {
        sideNav.classList.add('active');
    });

    closeBtn.addEventListener('click', function() {
        sideNav.classList.remove('active');
    });

    // Handle dropdown in sidebar
    dropdownItems.forEach(function(item) {
        item.addEventListener('click', function(e) {
            e.stopPropagation(); // Prevents clicks from closing the sidebar
            this.classList.toggle('open');
        });
    });

    // Close the sidebar when clicking outside of it (optional)
    document.addEventListener('click', function(e) {
        if (!sideNav.contains(e.target) && !openBtn.contains(e.target)) {
            sideNav.classList.remove('active');
        }
    });
});


    </script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
      if (localStorage.getItem('privacyPolicyAccepted')) {
        document.querySelector('.main-container').style.display = 'flex'; // Show content
      }
    });
  </script>

    <!-- FullCalendar JS -->
<script src="https://cdn.jsdelivr.net/npm/@fullcalendar/core@5.6.0/main.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@5.6.0/main.min.js"></script>

<!-- Custom JavaScript -->
<script>
    $(document).ready(function () {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'dayGridMonth',
            selectable: true,
            locale: 'en',
            headerToolbar: {
                left: 'prev,next today',
                center: 'title',
                right: 'dayGridMonth'
            },
            dateClick: function (info) {
                $('#selectedDateTime').text(`Appointment on ${info.dateStr}`);
                $('#appointmentModal2').modal('show');
            }
        });

        calendar.render();

        $('#bookAppointmentBtn').click(function () {
            alert('Appointment booked!');
            $('#appointmentModal2').modal('hide');
            // Example: Send data to server or update UI
        });

        $('#previousStepButton2').click(function () {
            // Example: Go to previous step/modal
            alert('Previous button clicked');
        });

        $('#submitProfile').click(function () {
            // Example: Finish profile submission
            alert('Finish button clicked');
        });
    });
</script>


<<script>
    document.addEventListener('DOMContentLoaded', () => {
        let currentStep = 1; // Start from the first step

        function goToNextStep() {
            if (currentStep === 1) {
                // Transition from step 1 to step 2
                bootstrap.Modal.getInstance(document.getElementById('buildingPermitModal')).hide();
                new bootstrap.Modal(document.getElementById('buildingPermitUpload')).show();
                currentStep = 2; // Update current step to 2
            } else if (currentStep === 2) {
                // Transition from step 2 to step 3
                bootstrap.Modal.getInstance(document.getElementById('buildingPermitUpload')).hide();
                new bootstrap.Modal(document.getElementById('appointmentModal')).show();
                currentStep = 3; // Update current step to 3
            }
        }

        function goToPreviousStep() {
            if (currentStep === 2) {
                // Transition from step 2 back to step 1
                bootstrap.Modal.getInstance(document.getElementById('buildingPermitModal')).show();
                bootstrap.Modal.getInstance(document.getElementById('buildingPermitUpload')).hide();
                currentStep = 1; // Update current step to 1
            } else if (currentStep === 3) {
                // Transition from step 3 back to step 2
                bootstrap.Modal.getInstance(document.getElementById('appointmentModal')).hide();
                new bootstrap.Modal(document.getElementById('buildingPermitUpload')).show();
                currentStep = 2; // Update current step to 2
            }
        }

        function finishApplication() {
            // Final step: hide appointmentModal and show applicationAppliedModal
            bootstrap.Modal.getInstance(document.getElementById('appointmentModal')).hide();
        
        }

        // Event listeners for next and previous buttons
        document.getElementById('nextStepButton').addEventListener('click', goToNextStep);
        document.getElementById('nextStepButton2').addEventListener('click', goToNextStep);
        document.getElementById('previousStepButton').addEventListener('click', goToPreviousStep); // Add this line
        document.getElementById('previousStepButton2').addEventListener('click', goToPreviousStep);

        // Event listener for finishing the application
        document.getElementById('submitProfile').addEventListener('click', finishApplication);
    });
</script>>

    
    <script>
       function uploadFile(input) {
    const file = input.files[0];
    if (file) {
        const reader = new FileReader();
        reader.onload = function() {
            const fileName = file.name;
            const fileSize = formatBytes(file.size);
            const fileItem = `
                <div class="file-item">
                    <span class="file-name">${fileName} (${fileSize})</span>
                    <span class="btn-delete" onclick="deleteFile(this, '${input.id}')">Delete</span>
                </div>`;
            const fileColumn = input.closest('tr').querySelector('.file-column');
            fileColumn.innerHTML = fileItem;
        };
        reader.readAsDataURL(file);
    }
}

function deleteFile(deleteBtn, inputId) {
    const fileItem = deleteBtn.closest('.file-item');
    if (fileItem) {
        fileItem.remove();
        // Clear the associated file input value to allow re-uploading if needed
        document.getElementById(inputId).value = '';
    }
}

function formatBytes(bytes, decimals = 2) {
    if (bytes === 0) return '0 Bytes';
    const k = 1024;
    const dm = decimals < 0 ? 0 : decimals;
    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];
}

function handleDragOver(event) {
    event.preventDefault();
    event.stopPropagation();
    event.dataTransfer.dropEffect = 'copy';
}

function handleDrop(event) {
    event.preventDefault();
    event.stopPropagation();

    const files = event.dataTransfer.files;
    const inputFileElement = event.target.querySelector('.file-input');

    if (inputFileElement && files.length > 0) {
        inputFileElement.files = files;
        uploadFile(inputFileElement);  // Call your existing file upload function
    }
}

        </script>

<script>
    // Function to format the date as YYYY-MM-DD
    function formatDate(date) {
        const year = date.getFullYear();
        const month = String(date.getMonth() + 1).padStart(2, '0'); // Months are 0-based
        const day = String(date.getDate()).padStart(2, '0');
        return `${year}-${month}-${day}`;
    }

    // Get today's date and set it as the default value
    const today = new Date();
    const dateInput = document.getElementById('basic-url');
    dateInput.value = formatDate(today);
</script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Show the privacy policy modal every time the page is loaded
        var privacyModal = new bootstrap.Modal(document.getElementById('privacyPolicyModal'));
        privacyModal.show();
  
        // Handle the "Proceed" button click
        document.getElementById('acceptPolicyButton').addEventListener('click', function () {
            // Hide the privacy policy modal
            var privacyModalEl = document.getElementById('privacyPolicyModal');
            var privacyModalInstance = bootstrap.Modal.getInstance(privacyModalEl);
            privacyModalInstance.hide();
            
            // Show the building permit modal
            var buildingPermitModal = new bootstrap.Modal(document.getElementById('buildingPermitModal'));
            buildingPermitModal.show();
        });
    });
</script>

<!--Toggle Others-->
<script>
    function toggleOtherScopeInput() {
    const otherInput = document.getElementById("otherScopeInput");
    const otherRadio = document.getElementById("option4");

    if (otherRadio.checked) {
        otherInput.disabled = false;
    } else {
        otherInput.disabled = true;
        otherInput.value = '';  // Clear the input if disabled
    }
}

// Call the function on page load to ensure the state is correct
window.onload = toggleOtherScopeInput;



</script>




  



    
    
    
    </body>
    </html>